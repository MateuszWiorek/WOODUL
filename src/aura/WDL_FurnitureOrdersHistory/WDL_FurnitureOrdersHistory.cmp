<!--
 - Created by Mateusz Wiorek on 24.03.2020.
 -->

<aura:component description="WDL_FurnitureOrdersHistory" controller="WDLC_FurnitureOrdersHistoryController"
                implements="forceCommunity:availableForAllPageTypes">
    <aura:attribute name="orders" type="Object[]" access="global"/>

    <aura:handler name="init" value="{!this}" action="{!c.onInit}"/>

    <lightning:card>
        <center><h2>Orders</h2></center>
        <aura:if isTrue="{!not(empty(v.orders))}">
            <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                <thead>
                <tr class="slds-line-height_reset">
                    <th class="" scope="col"><strong>
                        <div class="slds-truncate slds-truncate_container_10"
                             title="ShippingAddress">Order Id
                        </div>
                    </strong></th>
                    <th class="" scope="col"><strong>
                        <div class="slds-truncate slds-truncate_container_10"
                             title="ShippingAddress">Billing Address
                        </div>
                    </strong></th>
                    <th class="" scope="col"><strong>
                        <div class="slds-truncate slds-truncate_container_10"
                             title="ShippingAddress">Total Amount
                        </div>
                    </strong></th>
                    <th scope="col"><strong>
                        <div class="slds-truncate slds-truncate_container--10" title="Status">Status</div>
                    </strong></th>
                </tr>
                </thead>
                <tbody>
                <aura:iteration var="cell" items="{!v.orders}" indexVar="index">
                    <tr class="slds-hint-parent " aura:id="resultItem" data-index="{!index}">
                        <td data-label="orderId">{!cell.Id}</td>
                        <td data-label="{!$Label.c.ShippingAddress}">
                                {!cell.BillingStreet + ', ' + cell.BillingCity + ', ' + cell.BillingCountry}</td>
                        <td data-label="{!$Label.c.Description}">
                            <lightning:formattedNumber value="{!cell.TotalAmount}" style="currency"
                                                       currencyCode="EUR" currencyDisplayAs="symbol"/>
                        </td>
                        <td data-label="{!$Label.c.Description}"> {!cell.Status} </td>
                    </tr>
                </aura:iteration>
                </tbody>
            </table>
        </aura:if>
    </lightning:card>
</aura:component>
